<h2>Unidad VII ‚Äî DOM avanzado y APIs</h2>

<section>
  <h3>1. Manipulaci√≥n avanzada del DOM</h3>
  <p>
    Ya sab√©s c√≥mo crear y modificar elementos. Ahora veremos algunas t√©cnicas
    m√°s potentes para controlar el DOM de forma eficiente.
  </p>

  <ul>
    <li>
      <code>classList.add()</code>, <code>remove()</code>,
      <code>toggle()</code> ‚Äî manejan clases CSS f√°cilmente.
    </li>
    <li>
      <code>dataset</code> ‚Äî permite guardar informaci√≥n personalizada en los
      elementos.
    </li>
    <li>
      <strong>Delegaci√≥n de eventos</strong> ‚Äî en lugar de asignar eventos a
      cada hijo, se los asignamos al padre.
    </li>
  </ul>

  <pre><code>// Cambiar estilos con classList
boton.addEventListener("click", () => {
  document.body.classList.toggle("modo-oscuro");
});

// dataset: atributos personalizados
const item = document.querySelector(".tarjeta");
console.log(item.dataset.id); // lee data-id="123"

// Delegaci√≥n de eventos
document.querySelector("ul").addEventListener("click", (e) => {
  if (e.target.tagName === "LI") {
    e.target.classList.toggle("seleccionado");
  }
});
</code></pre>

  <blockquote>
    üí° La delegaci√≥n de eventos mejora el rendimiento cuando se crean elementos
    din√°micamente.
  </blockquote>
</section>

<section>
  <h3>2. Modo claro / oscuro con CSS din√°mico</h3>
  <p>
    Podemos alternar entre temas de color con una simple clase en el
    <code>&lt;body&gt;</code>. Esto combina perfectamente con variables CSS.
  </p>

  <pre><code>/* En tu CSS */
:root {
  --fondo: #ffffff;
  --texto: #1e1e1e;
}
body.modo-oscuro {
  --fondo: #1e1e1e;
  --texto: #f5f5f5;
}
body {
  background: var(--fondo);
  color: var(--texto);
}</code></pre>

  <pre><code>// En tu JavaScript
const btnTema = document.createElement("button");
btnTema.textContent = "üåì Cambiar tema";
document.body.prepend(btnTema);

btnTema.addEventListener("click", () => {
  document.body.classList.toggle("modo-oscuro");
});
</code></pre>

  <blockquote>
    üé® Combinar JS y variables CSS permite temas visuales modernos con muy poco
    c√≥digo.
  </blockquote>
</section>

<section>
  <h3>3. Almacenamiento en el navegador</h3>
  <p>
    Con <code>localStorage</code> podemos guardar informaci√≥n que persiste
    incluso al cerrar la p√°gina.
  </p>

  <pre><code>// Guardar datos
localStorage.setItem("nombre", "Sebasti√°n");

// Leer datos
const usuario = localStorage.getItem("nombre");
console.log(usuario); // Sebasti√°n

// Eliminar
localStorage.removeItem("nombre");

// Borrar todo
localStorage.clear();
</code></pre>

  <blockquote>
    üíæ Ideal para guardar configuraciones, listas o el estado del tema.
  </blockquote>
</section>

<section>
  <h3>4. Peticiones a APIs con Fetch</h3>
  <p>
    JavaScript puede conectarse a servicios externos usando
    <code>fetch()</code>. Es una forma sencilla de traer datos desde Internet.
  </p>

  <pre><code>fetch("https://api.github.com/users/octocat")
  .then((res) => res.json())
  .then((data) => {
    console.log(data);
    document.body.innerHTML += `&lt;p&gt;Usuario: ${data.login}&lt;/p&gt;`;
  })
  .catch((err) => console.error("Error:", err));
</code></pre>

  <blockquote>
    üåê <strong>API</strong> significa ‚ÄúInterfaz de Programaci√≥n de
    Aplicaciones‚Äù. Permite que tu sitio obtenga informaci√≥n real de otros
    servicios.
  </blockquote>
</section>

<section>
  <h3>5. Async / Await</h3>
  <p>Es una forma moderna y m√°s legible de trabajar con c√≥digo as√≠ncrono.</p>

  <pre><code>async function obtenerDatos() {
  try {
    const respuesta = await fetch("https://api.github.com/users/octocat");
    const datos = await respuesta.json();
    console.log(datos.login);
  } catch (error) {
    console.error("Error al obtener datos:", error);
  }
}
obtenerDatos();
</code></pre>

  <blockquote>
    üöÄ <code>await</code> pausa la ejecuci√≥n hasta que la promesa se resuelve,
    facilitando la lectura del c√≥digo.
  </blockquote>
</section>

<section>
  <h3>6. Proyecto integrador ‚Äî Mini App de Usuarios</h3>
  <p>
    Constru√≠ una mini aplicaci√≥n que consulte la API de GitHub y muestre
    informaci√≥n b√°sica de un usuario:
  </p>

  <ul>
    <li>Un campo de texto para escribir el nombre del usuario</li>
    <li>Un bot√≥n ‚ÄúBuscar‚Äù</li>
    <li>Mostrar su foto, nombre y cantidad de repositorios</li>
  </ul>

  <pre><code>async function buscarUsuario() {
  const nombre = document.querySelector("#nombre").value;
  const res = await fetch(`https://api.github.com/users/${nombre}`);
  const datos = await res.json();

  const resultado = document.querySelector("#resultado");
  resultado.innerHTML = `
    &lt;img src="${datos.avatar_url}" width="80"&gt;
    &lt;p&gt;Nombre: ${datos.name}&lt;/p&gt;
    &lt;p&gt;Repositorios: ${datos.public_repos}&lt;/p&gt;
  `;
}
</code></pre>

  <blockquote>
    üí° Con esto los alumnos practican DOM, eventos, fetch, manejo de errores y
    manipulaci√≥n visual.
  </blockquote>
</section>

<section>
  <h3>üéØ Objetivos de aprendizaje</h3>
  <ul>
    <li>Comprender t√©cnicas avanzadas del DOM.</li>
    <li>Usar almacenamiento local para recordar configuraciones.</li>
    <li>Consumir datos reales desde una API externa.</li>
    <li>Integrar todos los conocimientos en una mini app completa.</li>
  </ul>
</section>
